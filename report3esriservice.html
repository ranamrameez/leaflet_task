<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">
    <title>Class Breaks Renderer</title>

    <script src="https://unpkg.com/leaflet"></script>
    <script src="https://unpkg.com/leaflet-simple-map-screenshoter"></script>

    <!-- DOM to Image -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.js"></script>
    
    <link rel="stylesheet" href="https://js.arcgis.com/3.39/esri/css/esri.css">
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 50px;
            bottom: 0;
            right: 20px;
            left: 20px;
            width: 500px;
            height: 500px;
        }

        #content {
            border-style: solid;
            border-color: black;
            border-radius: 2px;
            width: 700px;
            height: 1500px;
            margin-top: 29px;
            margin-left: 550px;
        }

        #save {
            width: 150px;
            margin-top: 10px;
            margin-left: 500px;
        }
    </style>
    <script src="https://js.arcgis.com/3.39/"></script>
    <script>
      var map;
      require([
        "esri/map", "esri/layers/FeatureLayer",
        "esri/InfoTemplate", "esri/symbols/SimpleFillSymbol",
        "esri/renderers/ClassBreaksRenderer",
        "esri/Color", "dojo/dom-style", "dojo/domReady!"
      ], function(
        Map, FeatureLayer,
        InfoTemplate, SimpleFillSymbol,
        ClassBreaksRenderer,
        Color, domStyle
      ) {
        map = new Map("map", {
          basemap: "streets-vector",
          center: [-98.215, 38.382],
          zoom: 7,
          slider: false
        });

        var symbol = new SimpleFillSymbol();
        symbol.setColor(new Color([150, 150, 150, 0.5]));

        // Add five breaks to the renderer.
        // If you have ESRI's ArcMap available, this can be a good way to determine break values.
        // You can also copy the RGB values from the color schemes ArcMap applies, or use colors
        // from a site like www.colorbrewer.org
        //
        // alternatively, ArcGIS Server's generate renderer task could be used
        var renderer = new ClassBreaksRenderer(symbol, "POP07_SQMI");
        renderer.addBreak(0, 25, new SimpleFillSymbol().setColor(new Color([56, 168, 0, 0.5])));
        renderer.addBreak(25, 75, new SimpleFillSymbol().setColor(new Color([139, 209, 0, 0.5])));
        renderer.addBreak(75, 175, new SimpleFillSymbol().setColor(new Color([255, 255, 0, 0.5])));
        renderer.addBreak(175, 400, new SimpleFillSymbol().setColor(new Color([255, 128, 0, 0.5])));
        renderer.addBreak(400, Infinity, new SimpleFillSymbol().setColor(new Color([255, 0, 0, 0.5])));

        var infoTemplate = new InfoTemplate("${NAME}", "${*}");
        var featureLayer = new FeatureLayer("https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Demographics/ESRI_Census_USA/MapServer/3", {
          mode: FeatureLayer.MODE_SNAPSHOT,
          outFields: ["*"],
          infoTemplate: infoTemplate
        });

        featureLayer.setDefinitionExpression("STATE_NAME = 'Kansas'");
        featureLayer.setRenderer(renderer);
        map.addLayer(featureLayer);
      });

      function saveMe() {
            alert("I am alerting");
            var node = document.getElementById('capture');

            domtoimage.toPng(node)
                .then(function (dataUrl) {
                    var img = new Image();
                    img.src = dataUrl;
                    document.body.appendChild(img);
                })
                .catch(function (error) {
                    console.error('oops, something went wrong!', error);
                });

        };
    </script>
  </head>

  <body>
    <div id="capture" style="padding: 10px; background: #fc3adb">
        <div class="container" style="padding: 10px; background: #ffffff">
            <div id="header"><button id="save" onclick="saveMe()">Save</button></div>
            <div id="map"></div>
            <div id="content">
                <h1 class="heading">Esri Leaflet Quickstart</h1>
                <p class="detail">Using Articles
                    What is an article? Basically, an article is an adjective. Like adjectives, articles modify nouns.

                    English has two articles: the and a/an. The is used to refer to specific or particular nouns; a/an
                    is
                    used to modify non-specific or non-particular nouns. We call the the definite article and a/an the
                    indefinite article.

                    the = definite article

                    a/an = indefinite article

                    For example, if I say, "Let's read the book," I mean a specific book. If I say, "Let's read a book,"
                    I
                    mean any book rather than a specific book.

                    Here's another way to explain it: The is used to refer to a specific or particular member of a
                    group.
                    For example, "I just saw the most popular movie of the year." There are many movies, but only one
                    particular movie is the most popular. Therefore, we use the.

                    "A/an" is used to refer to a non-specific or non-particular member of the group. For example, "I
                    would
                    like to go see a movie." Here, we're not talking about a specific movie. We're talking about any
                    movie.
                    There are many movies, and I want to see any movie. I don't have a specific one in mind.

                    Let's look at each kind of article a little more closely.

                    INDEFINITE ARTICLES: A AND AN
                    "A" and "an" signal that the noun modified is indefinite, referring to any member of a group. For
                    example:

                    "My daughter really wants a dog for Christmas." This refers to any dog. We don't know which dog
                    because
                    we haven't found the dog yet.
                    "Somebody call a policeman!" This refers to any policeman. We don't need a specific policeman; we
                    need
                    any policeman who is available.
                    "When I was at the zoo, I saw an elephant!" Here, we're talking about a single, non-specific thing,
                    in
                    this case an elephant. There are probably several elephants at the zoo, but there's only one we're
                    talking about here.
                    REMEMBER, USING A OR AN DEPENDS ON THE SOUND THAT BEGINS THE NEXT WORD. SO...
                    a + singular noun beginning with a consonant: a boy; a car; a bike; a zoo; a dog
                    an + singular noun beginning with a vowel: an elephant; an egg; an apple; an idiot; an orphan
                    a + singular noun beginning with a consonant sound: a user (sounds like 'yoo-zer,' i.e. begins with
                    a
                    consonant 'y' sound, so 'a' is used); a university; a unicycle
                    an + nouns starting with silent "h": an hour
                    a + nouns starting with a pronounced "h": a horse
                    In some cases where "h" is pronounced, such as "historical," you can use an. However, a is more
                    commonly
                    used and preferred.
                    A historical event is worth recording.
                    Remember that these rules also apply when you use acronyms:

                    Introductory Composition at Purdue (ICaP) handles first-year writing at the University. Therefore,
                    an
                    ICaP memo generally discusses issues concerning English 106 instructors.
                    Another case where this rule applies is when acronyms or initialisms start with consonant letters
                    but
                    have vowel sounds:

                    An MSDS (material safety data sheet) was used to record the data. An SPCC plan (Spill Prevention
                    Control
                    and Countermeasures plan) will help us prepare for the worst.
                    If the noun is modified by an adjective, the choice between a and an depends on the initial sound of
                    the
                    adjective that immediately follows the article:

                    a broken egg
                    an unusual problem
                    a European country (sounds like 'yer-o-pi-an,' i.e. begins with consonant 'y' sound)
                    Remember, too, that in English, the indefinite articles are used to indicate membership in a group:

                    I am a teacher. (I am a member of a large group known as teachers.)
                    Brian is an Irishman. (Brian is a member of the people known as Irish.)
                    Seiko is a practicing Buddhist. (Seiko is a member of the group of people known as Buddhists.)
                    DEFINITE ARTICLE: THE
                    The definite article is used before singular and plural nouns when the noun is specific or
                    particular.
                    The signals that the noun is definite, that it refers to a particular member of a group. For
                    example:

                    "The dog that bit me ran away." Here, we're talking about a specific dog, the dog that bit me.

                    "I was happy to see the policeman who saved my cat!" Here, we're talking about a particular
                    policeman.
                    Even if we don't know the policeman's name, it's still a particular policeman because it is the one
                    who
                    saved the cat.

                    "I saw the elephant at the zoo." Here, we're talking about a specific noun. Probably there is only
                    one
                    elephant at the zoo.

                    COUNT AND NONCOUNT NOUNS
                    The can be used with noncount nouns, or the article can be omitted entirely.

                    "I love to sail over the water" (some specific body of water) or "I love to sail over water" (any
                    water).
                    "He spilled the milk all over the floor" (some specific milk, perhaps the milk you bought earlier
                    that
                    day) or "He spilled milk all over the floor" (any milk).
                    "A/an" can be used only with count nouns.

                    "I need a bottle of water."
                    "I need a new glass of milk."
                    Most of the time, you can't say, "She wants a water," unless you're implying, say, a bottle of
                    water.

                    GEOGRAPHICAL USE OF THE
                    There are some specific rules for using the with geographical nouns.

                    Do not use the before:

                    names of most countries/territories: Italy, Mexico, Bolivia; however, the Netherlands, the Dominican
                    Republic, the Philippines, the United States
                    names of cities, towns, or states: Seoul, Manitoba, Miami
                    names of streets: Washington Blvd., Main St.
                    names of lakes and bays: Lake Titicaca, Lake Erie except with a group of lakes like the Great Lakes
                    names of mountains: Mount Everest, Mount Fuji except with ranges of mountains like the Andes or the
                    Rockies or unusual names like the Matterhorn
                    names of continents (Asia, Europe)
                    names of islands (Easter Island, Maui, Key West) except with island chains like the Aleutians, the
                    Hebrides, or the Canary Islands
                    Do use the before:

                    names of rivers, oceans and seas: the Nile, the Pacific
                    points on the globe: the Equator, the North Pole
                    geographical areas: the Middle East, the West
                    deserts, forests, gulfs, and peninsulas: the Sahara, the Persian Gulf, the Black Forest, the Iberian
                    Peninsula
                    OMISSION OF ARTICLES
                    Some common types of nouns that don't take an article are:

                    Names of languages and nationalities: Chinese, English, Spanish, Russian (unless you are referring
                    to
                    the population of the nation: "The Spanish are known for their warm hospitality.")
                    Names of sports: volleyball, hockey, baseball
                    Names of academic subjects: mathematics, biology, history, computer science

                    names of rivers, oceans and seas: the Nile, the Pacific
                    points on the globe: the Equator, the North Pole
                    geographical areas: the Middle East, the West
                    deserts, forests, gulfs, and peninsulas: the Sahara, the Persian Gulf, the Black Forest, the Iberian
                    Peninsula
                    OMISSION OF ARTICLES
                    Some common types of nouns that don't take an article are:

                    Names of languages and nationalities: Chinese, English, Spanish, Russian (unless you are referring
                    to
                    the population of the nation: "The Spanish are known for their warm hospitality.")
                    Names of sports: volleyball, hockey, baseball
                    Names of academic subjects: mathematics, biology, history, computer science
                </p>

            </div>
        </div>
    </div>
  </body>

</html>